<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>VIEW || STATUS</title>
    <link th:href="@{/css/patient/viewstatus.css}" rel="stylesheet"/>
</head>
<body>
<!--<div th:replace="patient/fragement/navbar :: patientNavbarHome"></div>-->
<div th:replace="patient/fragement/navbar :: patientNabarLink"></div>
<div th:replace="patient/fragement/navbar :: patientNavbarCss"></div>
<div th:replace="patient/fragement/navbar :: patientNavbarJs"></div>
<div>
    <header class="header">

        <a href="#" class="logo"> <i class="fas fa-heartbeat"></i>ODAS </a>

        <nav class="navbar">
            <ul>
                <!--              <a href="#home">Home</a>-->
<!--                <a th:href="@{/patient/feedback}">Feedback</a>-->
                <a th:href="@{/patient/view/status}">View Status</a>
                <a th:href="@{/patient/home}">Home</a>
            </ul>
        </nav>
        <div class="dropdown">
            <img class="dropbtn" th:src="${ppPath}" alt="">
            <div class="dropdown-content">
                <a th:href="@{/patient/profile/view}">Views</a>
                <a th:href="@{/logout}">Log out</a>

            </div>
        </div>

        <div id="menu-btn" class="fas fa-bars"></div>
    </header>
</div>
<div class="home">
   <div class="container">
       <h2 class="head_caption"><u><i>Your Online Appointment Details</i></u></h2>
       <table id="members">
           <thead>
           <tr>
               <th>S.N</th>
               <th>Hospital Name</th>
               <th>Doctor Name</th>
               <th>Date</th>
               <th>Time</th>
               <th>Status</th>
           </tr>
           </thead>
           <tbody>
           <tr th:each="loop ,i : ${appointDetails}">
               <td th:text="${i.count}"></td>
               <td th:text="${loop.hospital.name}">OM Hospital</td>
               <td th:text="${loop.doctor.name}"></td>
               <td th:text="${loop.appointmentDate}"></td>
               <td th:text="${loop.visitTime}"></td>
               <td th:text="${loop.applyStatus.name()}" id="apply-status" class="apply-status"></td>
           </tr>
           </tbody>
       </table>
   </div>
    </div>
<script type="text/javascript">
    var table = document.getElementById("members");
    changeRow = document.querySelector(".apply-status");
            for (var r = 0, n = table.rows.length; r < n; r++) {
                for (var c = 0, m = table.rows[r].cells.length; c < m; c++) {
                    if (table.rows[r].cells[c].innerHTML === "PENDING") {
                        changeRow.style.backgroundColor = "blue";
                    } else if (table.rows[r].cells[c].innerHTML === "BOOKED") {
                        changeRow.style.backgroundColor = "green";
                    } else if (table.rows[r].cells[c].innerHTML === "REJECTED") {
                        changeRow.style.backgroundColor = "red";
                    }
                }
            }
</script>
</body>
</html>